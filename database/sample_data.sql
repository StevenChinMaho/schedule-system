-- ============================================
-- 湖內國中調課系統 - 範例資料
-- ============================================
-- 
-- 說明：
-- 此檔案包含測試用的範例資料
-- 教師姓名已匿名化（使用虛構姓名）
-- 
-- 使用方法：
-- 1. 先執行 schema.sql 建立資料表結構
-- 2. 再執行此檔案插入範例資料
-- ============================================

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+08:00";

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

-- --------------------------------------------------------

--
-- 插入班級資料（12個班級）
--

INSERT INTO `class` (`class_id`, `class_code`, `class_name`) VALUES
(1, '701', '七年一班'),
(2, '702', '七年二班'),
(3, '703', '七年三班'),
(4, '704', '七年四班'),
(5, '801', '八年一班'),
(6, '802', '八年二班'),
(7, '803', '八年三班'),
(8, '804', '八年四班'),
(9, '901', '九年一班'),
(10, '902', '九年二班'),
(11, '903', '九年三班'),
(12, '904', '九年四班');

-- --------------------------------------------------------

--
-- 插入時段資料（週一~五，每天8節，共40個時段）
--

INSERT INTO `timeslot` (`timeslot_id`, `weekday`, `period`) VALUES
(1, 1, 1), (2, 1, 2), (3, 1, 3), (4, 1, 4), (5, 1, 5), (6, 1, 6), (7, 1, 7), (8, 1, 8),
(9, 2, 1), (10, 2, 2), (11, 2, 3), (12, 2, 4), (13, 2, 5), (14, 2, 6), (15, 2, 7), (16, 2, 8),
(17, 3, 1), (18, 3, 2), (19, 3, 3), (20, 3, 4), (21, 3, 5), (22, 3, 6), (23, 3, 7), (24, 3, 8),
(25, 4, 1), (26, 4, 2), (27, 4, 3), (28, 4, 4), (29, 4, 5), (30, 4, 6), (31, 4, 7), (32, 4, 8),
(33, 5, 1), (34, 5, 2), (35, 5, 3), (36, 5, 4), (37, 5, 5), (38, 5, 6), (39, 5, 7), (40, 5, 8);

-- --------------------------------------------------------

--
-- 插入科目資料
--

INSERT INTO `subject` (`subject_id`, `subject_name`) VALUES
(1, '公民與社會'),
(2, '太鼓社'),
(3, '日本文化社'),
(4, '日常好好玩'),
(5, '世界風情'),
(6, '巧固球社'),
(7, '本土語文'),
(8, '生活科技'),
(9, '生活達人'),
(10, '全球關連'),
(11, '地理'),
(12, '羽球社'),
(13, '自然'),
(14, '走讀湖內'),
(15, '足球社'),
(16, '社會'),
(17, '表演藝術'),
(18, '英文'),
(19, '英語'),
(20, '英語研究社'),
(21, '音樂'),
(22, '家政'),
(23, '桌遊社'),
(24, '班級活動'),
(25, '茶藝社'),
(26, '健康教育'),
(27, '動漫社'),
(28, '國文'),
(29, '媒體識讀'),
(30, '智慧生活'),
(31, '童軍'),
(32, '街舞社'),
(33, '視覺藝術'),
(34, '資訊科技'),
(35, '夢想探險趣'),
(36, '輔導'),
(37, '數學'),
(38, '歷史'),
(39, '稜輪車社'),
(40, '籃球社'),
(41, '體育');

-- --------------------------------------------------------

--
-- 插入教師資料（匿名化）
--

INSERT INTO `teacher` (`teacher_id`, `teacher_name`) VALUES
(1, '王老師'),
(2, '李老師'),
(3, '張老師'),
(4, '陳老師'),
(5, '林老師'),
(6, '黃老師'),
(7, '周老師'),
(8, '吳老師'),
(9, '徐老師'),
(10, '趙老師'),
(11, '孫老師'),
(12, '馬老師'),
(13, '朱老師'),
(14, '胡老師'),
(15, '郭老師'),
(16, '何老師'),
(17, '高老師'),
(18, '羅老師'),
(19, '梁老師'),
(20, '宋老師');

-- --------------------------------------------------------

--
-- 插入課表範例（七年一班的部分課程）
--

INSERT INTO `schedule` (`schedule_id`, `class_id`, `subject_id`, `teacher_id`, `timeslot_id`) VALUES
-- 週一
(1, 1, 28, 1, 1),   -- 週一第1節 國文 王老師
(2, 1, 37, 2, 2),   -- 週一第2節 數學 李老師
(3, 1, 19, 3, 3),   -- 週一第3節 英語 張老師
(4, 1, 13, 4, 4),   -- 週一第4節 自然 陳老師
(5, 1, 41, 5, 5),   -- 週一第5節 體育 林老師
(6, 1, 21, 7, 6),   -- 週一第6節 音樂 周老師
(7, 1, 36, 8, 7),   -- 週一第7節 輔導 吳老師

-- 週二
(8, 1, 37, 2, 9),   -- 週二第1節 數學 李老師
(9, 1, 28, 1, 10),  -- 週二第2節 國文 王老師
(10, 1, 19, 3, 11), -- 週二第3節 英語 張老師
(11, 1, 16, 6, 12), -- 週二第4節 社會 黃老師
(12, 1, 8, 9, 13),  -- 週二第5節 生活科技 徐老師
(13, 1, 22, 10, 14),-- 週二第6節 家政 趙老師
(14, 1, 24, 1, 15), -- 週二第7節 班級活動 王老師

-- 週三
(15, 1, 28, 1, 17), -- 週三第1節 國文 王老師
(16, 1, 37, 2, 18), -- 週三第2節 數學 李老師
(17, 1, 13, 4, 19), -- 週三第3節 自然 陳老師
(18, 1, 19, 3, 20), -- 週三第4節 英語 張老師
(19, 1, 11, 11, 21),-- 週三第5節 地理 孫老師
(20, 1, 17, 12, 22),-- 週三第6節 表演藝術 馬老師
(21, 1, 7, 13, 23), -- 週三第7節 本土語文 朱老師

-- 週四
(22, 1, 37, 2, 25), -- 週四第1節 數學 李老師
(23, 1, 28, 1, 26), -- 週四第2節 國文 王老師
(24, 1, 19, 3, 27), -- 週四第3節 英語 張老師
(25, 1, 13, 4, 28), -- 週四第4節 自然 陳老師
(26, 1, 41, 5, 29), -- 週四第5節 體育 林老師
(27, 1, 33, 14, 30),-- 週四第6節 視覺藝術 胡老師
(28, 1, 31, 15, 31),-- 週四第7節 童軍 郭老師

-- 週五
(29, 1, 28, 1, 33), -- 週五第1節 國文 王老師
(30, 1, 37, 2, 34), -- 週五第2節 數學 李老師
(31, 1, 13, 4, 35), -- 週五第3節 自然 陳老師
(32, 1, 19, 3, 36), -- 週五第4節 英語 張老師
(33, 1, 34, 16, 37),-- 週五第5節 資訊科技 何老師
(34, 1, 26, 17, 38),-- 週五第6節 健康教育 高老師
(35, 1, 38, 18, 39);-- 週五第7節 歷史 羅老師

-- --------------------------------------------------------

--
-- 插入七年二班的部分課程（與七年一班有共同教師，用於測試衝突檢測）
--

INSERT INTO `schedule` (`schedule_id`, `class_id`, `subject_id`, `teacher_id`, `timeslot_id`) VALUES
-- 週一（與七年一班部分教師重疊）
(36, 2, 37, 2, 1),   -- 週一第1節 數學 李老師（與701不同時段）
(37, 2, 19, 3, 2),   -- 週一第2節 英語 張老師（與701不同時段）
(38, 2, 28, 19, 3),  -- 週一第3節 國文 梁老師
(39, 2, 13, 4, 4),   -- 週一第4節 自然 陳老師（與701同時段，測試衝突）
(40, 2, 41, 20, 5),  -- 週一第5節 體育 宋老師
(41, 2, 16, 6, 6),   -- 週一第6節 社會 黃老師
(42, 2, 21, 7, 7);   -- 週一第7節 音樂 周老師（與701不同時段）

COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;

-- ============================================
-- 驗證資料
-- ============================================
-- 
-- 執行以下查詢檢查資料是否正確插入：
-- 
-- SELECT COUNT(*) FROM class;      -- 應該是 12
-- SELECT COUNT(*) FROM timeslot;   -- 應該是 40
-- SELECT COUNT(*) FROM subject;    -- 應該是 41
-- SELECT COUNT(*) FROM teacher;    -- 應該是 20
-- SELECT COUNT(*) FROM schedule;   -- 應該是 42
-- 
-- 測試查詢七年一班課表：
-- SELECT 
--     t.weekday,
--     t.period,
--     sub.subject_name,
--     tea.teacher_name
-- FROM schedule s
-- JOIN timeslot t ON s.timeslot_id = t.timeslot_id
-- JOIN subject sub ON s.subject_id = sub.subject_id
-- JOIN teacher tea ON s.teacher_id = tea.teacher_id
-- WHERE s.class_id = 1
-- ORDER BY t.weekday, t.period;
-- 
-- 測試衝突檢測（應該找到共同教師）：
-- SELECT DISTINCT teacher_name
-- FROM teacher
-- WHERE teacher_id IN (
--     SELECT teacher_id FROM schedule WHERE class_id = 1
--     INTERSECT
--     SELECT teacher_id FROM schedule WHERE class_id = 2
-- );
-- ============================================